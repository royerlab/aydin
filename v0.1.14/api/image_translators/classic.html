<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ImageDenoiserClassic - Classic Image Denoiser &mdash; Aydin  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ImageTranslatorFGR - Feature Generation&amp;Regression" href="fgr.html" />
    <link rel="prev" title="ImageTranslatorBase" href="base.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/aydin_logo_grad_black_tr1.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/hardware_requirements.html">Hardware Requirements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/basics.html">Denoising Basics with Aydin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/newyork.html">Noisy ‘New York’ Test Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/confocal_royer.html">Spinning-Disk Confocal Images of Zebrafish Embryos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/confocal_maitre.html">Spinning-Disk Confocal Microscopy Images of Mouse Embryos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/opencell.html">OpenCell Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/pourquie.html">Chicken Embryos LSM 780 Images</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials_home.html">Tutorials Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/gui_tutorials.html">Aydin Studio (GUI) Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/cli_tutorials.html">Aydin CLI Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/api_tutorials.html">Aydin API Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../restoration.html">Restoration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../image_translator.html">Image Translator</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="base.html">ImageTranslatorBase</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ImageDenoiserClassic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#imagedenoiserclassic">ImageDenoiserClassic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#procedural-calibration-and-denoising-api">Procedural calibration and denoising API:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bilateral">Bilateral</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bmnd">BMND</a></li>
<li class="toctree-l4"><a class="reference internal" href="#butterworth">Butterworth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dictionary-fixed">Dictionary fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dictionary-learned">Dictionary learned</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gaussian">Gaussian</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gaussian-median">Gaussian-Median</a></li>
<li class="toctree-l4"><a class="reference internal" href="#harmonic">Harmonic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lipschitz">Lipschitz</a></li>
<li class="toctree-l4"><a class="reference internal" href="#non-local-means-nlm">Non-Local Means(NLM)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pca">PCA</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spectral">Spectral</a></li>
<li class="toctree-l4"><a class="reference internal" href="#total-variation-tv">Total Variation(TV)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wavelet">Wavelet</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fgr.html">ImageTranslatorFGR</a></li>
<li class="toctree-l2"><a class="reference internal" href="cnn.html">ImageTranslatorCNN</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../transforms.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature_generator.html">Feature Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../regressors.html">Regressors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io.html">IO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn.html">NN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options_json.html">Options JSON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contact Us</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contact_us/github.html">On Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact_us/imagesc.html">On image.sc</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Aydin</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../image_translator.html">Image Translator</a> &raquo;</li>
      <li>ImageDenoiserClassic - Classic Image Denoiser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/image_translators/classic.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="imagedenoiserclassic-classic-image-denoiser">
<h1>ImageDenoiserClassic - Classic Image Denoiser<a class="headerlink" href="#imagedenoiserclassic-classic-image-denoiser" title="Permalink to this headline"></a></h1>
<section id="imagedenoiserclassic">
<h2>ImageDenoiserClassic<a class="headerlink" href="#imagedenoiserclassic" title="Permalink to this headline"></a></h2>
</section>
<section id="procedural-calibration-and-denoising-api">
<h2>Procedural calibration and denoising API:<a class="headerlink" href="#procedural-calibration-and-denoising-api" title="Permalink to this headline"></a></h2>
<section id="bilateral">
<h3>Bilateral<a class="headerlink" href="#bilateral" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.bilateral.denoise_bilateral">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.bilateral.</span></span><span class="sig-name descname"><span class="pre">denoise_bilateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_color</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_spatial</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/bilateral.html#denoise_bilateral"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.bilateral.denoise_bilateral" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image using a &lt;a
href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Bilateral_filter">https://en.wikipedia.org/wiki/Bilateral_filter</a>”&gt;bilateral
filter&lt;/a&gt;.
The bilateral filter is a edge-preserving smoothing filter that can
be used for image denoising. Each pixel value is replaced by a
weighted average of intensity values from nearby pixels. The
weighting is inversely related to the pixel distance in space but
also in the pixels value differences.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image</strong><span class="classifier">ArrayLike</span></dt><dd><p>Image to denoise</p>
</dd>
<dt><strong>sigma_color</strong><span class="classifier">float</span></dt><dd><p>Standard deviation for grayvalue/color distance (radiometric
similarity). A larger value results in averaging of pixels with larger
radiometric differences. Note, that the image will be converted using
the <cite>img_as_float</cite> function and thus the standard deviation is in
respect to the range <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>. If the value is <code class="docutils literal notranslate"><span class="pre">None</span></code> the standard
deviation of the <code class="docutils literal notranslate"><span class="pre">image</span></code> will be used.</p>
</dd>
<dt><strong>sigma_spatial</strong><span class="classifier">float</span></dt><dd><p>Standard deviation for range distance. A larger value results in
averaging of pixels with larger spatial differences.</p>
</dd>
<dt><strong>bins</strong><span class="classifier">int</span></dt><dd><p>Number of discrete values for Gaussian weights of color filtering.
A larger value results in improved accuracy.</p>
</dd>
<dt><strong>kwargs: dict</strong></dt><dd><p>Other parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="bmnd">
<h3>BMND<a class="headerlink" href="#bmnd" title="Permalink to this headline"></a></h3>
</section>
<section id="butterworth">
<h3>Butterworth<a class="headerlink" href="#butterworth" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.butterworth.calibrate_denoise_butterworth">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.butterworth.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_butterworth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'full'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_filters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_freq</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1e-09</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_freq</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency_tolerance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_core</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/butterworth.html#calibrate_denoise_butterworth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.butterworth.calibrate_denoise_butterworth" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Butterworth denoiser for the given image and returns the optimal
parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate Butterworth denoiser for.</p>
</dd>
<dt><strong>mode: str</strong></dt><dd><p>Possible modes are: ‘isotropic’ for isotropic, meaning only one
frequency cut-off is calibrated for all axes , ‘z-yx’ (or ‘xy-z’) for 3D
stacks where the cut-off frequency for the x and y axes is the same but
different for the z axis, ‘t-z-yx’ (or ‘xy-z-t’) for 3D+t
timelapse where the cut-off frequency for the x and y axes is the same but
different for the z and t axis, and ‘full’ for which all frequency cut-offs are
different. Use ‘z-yx’ or ‘t-z-yx’ for axes are ordered as: t, z, y and then x which is the default.
If for some reason the axis order is reversed you can use ‘xy-z’ or ‘xy-z-t’.
Note: for 2D+t timelapses where the resolution over x and y are expected to be the same,
simply use: ‘z-yx’ (or ‘xy-z’).</p>
</dd>
<dt><strong>axes: Optional[Tuple[int,…]]</strong></dt><dd><p>Axes over which to apply low-pass filtering.
(advanced)</p>
</dd>
<dt><strong>other_filters: bool</strong></dt><dd><p>if True other filters similar to Butterworth are tried such as Type II
Chebyshev filter.</p>
</dd>
<dt><strong>min_padding: int</strong></dt><dd><p>Minimum amount of padding to be added to avoid edge effects.
(advanced)</p>
</dd>
<dt><strong>max_padding: int</strong></dt><dd><p>Maximum amount of padding to be added to avoid edge effects.
(advanced)</p>
</dd>
<dt><strong>min_freq: float</strong></dt><dd><p>Minimum cutoff frequency to use for calibration. Must be within [0,1],
typically close to zero.
(advanced)</p>
</dd>
<dt><strong>max_freq: float</strong></dt><dd><p>Maximum cutoff frequency to use for calibration. Must be within [0,1],
typically close to one.
(advanced)</p>
</dd>
<dt><strong>frequency_tolerance: float</strong></dt><dd><p>Frequency tolerance within [-1,1]. A positive value lets more
high-frequencies to go through the low-pass, negative values bring
down the cut-off frequencies, zero has no effect. Positive values
reduces the effect of denoising but also lead to conservative
filtering that avoids removing potentially important information at
the boundary (in frequency space) between signal and noise. This can
also improve the appearance of the images by avoiding the impression
that the images have been ‘over-blurred’. Increase this value by
small steps of 0.05 to reduce blurring if the image seems too fuzzy.</p>
</dd>
<dt><strong>min_order: float</strong></dt><dd><p>Minimal order for the Butterworth filter to use for calibration.
(advanced)</p>
</dd>
<dt><strong>max_order: float</strong></dt><dd><p>Maximal order for the Butterworth filter to use for calibration.
If min_order==max_order then no search is performed for the filter’s order.
(advanced)</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 256000, 320000, 1’000’000, 2’000’000.
We do not recommend values higher than 3000000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: Optional[List[Tuple[int]]]</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>multi_core: bool</strong></dt><dd><p>Use all CPU cores during calibration.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters. (advanced)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.butterworth.denoise_butterworth">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.butterworth.</span></span><span class="sig-name descname"><span class="pre">denoise_butterworth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'butterworth'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_core</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/butterworth.html#denoise_butterworth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.butterworth.denoise_butterworth" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image by applying a configurable &lt;a
href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Butterworth_filter">https://en.wikipedia.org/wiki/Butterworth_filter</a>”&gt;Butterworth
lowpass filter&lt;/a&gt;. Remarkably good when your signal
does not have high-frequencies beyond a certain cutoff frequency.
This is probably the first algorithm that should be tried of all
currently available in Aydin. It is actually quite impressive how
well this performs in practice. If the signal in your images is
band-limited as is often the case for microscopy images, this
denoiser will work great.</p>
<p>Note: We recommend applying a variance stabilisation transform
to improve results for images with non-Gaussian noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to be denoised</p>
</dd>
<dt><strong>axes: Optional[Tuple[int,…]]</strong></dt><dd><p>Axes over which to apply lowpass filtering.</p>
</dd>
<dt><strong>filter_type: str</strong></dt><dd><p>Type of filter. The default is ‘butterworth’ but we have now introduced
another filter type: ‘chebyshev2’ which is a Type II Chebyshev filter
with a steeper cut-off than Butterworth at the cost of some ripples
in the rejected high frequencies.
(advanced)</p>
</dd>
<dt><strong>freq_cutoff: Union[float, Sequence[float]]</strong></dt><dd><p>Single or sequence cutoff frequency, must be within [0, 1]</p>
</dd>
<dt><strong>order: float</strong></dt><dd><p>Filter order, typically an integer above 1.</p>
</dd>
<dt><strong>min_padding: int</strong></dt><dd><p>Minimum amount of padding to be added to avoid edge effects.</p>
</dd>
<dt><strong>max_padding: int</strong></dt><dd><p>Maximum amount of padding to be added to avoid edge effects.</p>
</dd>
<dt><strong>multi_core: bool</strong></dt><dd><p>By default we use as many cores as possible, in some cases, for small
(test) images, it might be faster to run on a single core instead of
starting the whole parallelization machinery.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="dictionary-fixed">
<h3>Dictionary fixed<a class="headerlink" href="#dictionary-fixed" title="Permalink to this headline"></a></h3>
</section>
<section id="dictionary-learned">
<h3>Dictionary learned<a class="headerlink" href="#dictionary-learned" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.dictionary_learned.calibrate_denoise_dictionary_learned">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.dictionary_learned.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_dictionary_learned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_omp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_lasso_lars</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_lasso_cd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_lars</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_patches</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dictionary_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">over_completeness</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dictionary_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_kmeans</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_pca</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_ica</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_sdl</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sparsity_values_to_try</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_cleanup_dictionary</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_denoise_dictionary</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">96000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_dictionary</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/dictionary_learned.html#calibrate_denoise_dictionary_learned"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.dictionary_learned.calibrate_denoise_dictionary_learned" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the dictionary-based denoiser for the given image by finding the
best learned dictionary of patches and returns the optimal parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image</strong><span class="classifier">ArrayLike</span></dt><dd><p>Image to calibrate denoiser for.</p>
</dd>
<dt><strong>patch_size</strong><span class="classifier">int</span></dt><dd><p>Patch size. If None it is automatically adjusted
to teh number of dimensions of the image to
ensure a reasonable computational effort.
(advanced)</p>
</dd>
<dt><strong>try_omp: bool</strong></dt><dd><p>Whether OMP should be tried as a sparse coding
algorithm during calibration.</p>
</dd>
<dt><strong>try_lasso_lars: bool</strong></dt><dd><p>Whether LASSO-LARS should be tried as a sparse
coding algorithm during calibration.</p>
</dd>
<dt><strong>try_lasso_cd: bool</strong></dt><dd><p>Whether LASSO-CD should be tried as a sparse
coding algorithm during calibration.</p>
</dd>
<dt><strong>try_lars: bool</strong></dt><dd><p>Whether LARS should be tried as a sparse coding
algorithm during calibration.</p>
</dd>
<dt><strong>try_threshold: bool</strong></dt><dd><p>Whether ‘threshold’’ should be tried as a sparse
coding algorithm during calibration.</p>
</dd>
<dt><strong>max_patches: Optional[int]</strong></dt><dd><p>Max number of patches to extract for dictionary
learning. If None there is no limit.
(advanced)</p>
</dd>
<dt><strong>dictionary_size: int</strong></dt><dd><p>Dictionary size in ‘atoms’. If None the dictionary
size is inferred from the over_completeness
parameter type.
(advanced)</p>
</dd>
<dt><strong>over_completeness: float</strong></dt><dd><p>Given a certain patch size p and image dimension
n, a complete basis has p^n elements, the over
completeness factor determines the size of
the dictionary relative to that by the formula:
ox*p^n.
(advanced)</p>
</dd>
<dt><strong>max_dictionary_size: int</strong></dt><dd><p>Independently of any other parameter, we limit the
size of the dictionary to this provided number.
(advanced)</p>
</dd>
<dt><strong>try_kmeans: bool</strong></dt><dd><p>Whether to compute a kmeans based dictionary
and used it as one of possible dictionaries
during calibration.</p>
</dd>
<dt><strong>try_pca: bool</strong></dt><dd><p>Whether to compute a PCA based dictionary and
used it as one of possible dictionaries during
calibration.</p>
</dd>
<dt><strong>try_ica: bool</strong></dt><dd><p>Whether to compute an ICA (Independent
Component Analysis) based dictionary and
used it as one of possible dictionaries
during calibration.</p>
</dd>
<dt><strong>try_sdl: bool</strong></dt><dd><p>Whether to compute a SDL (Sparse Dictionary
Learning) based dictionary and used it as one of
possible dictionaries during calibration.</p>
</dd>
<dt><strong>num_sparsity_values_to_try: int</strong></dt><dd><p>Maximum number of sparsity values to try during calibration
(advanced)</p>
</dd>
<dt><strong>num_iterations: int</strong></dt><dd><p>Number of iterations for learning dictionary.
(advanced)</p>
</dd>
<dt><strong>batch_size: int</strong></dt><dd><p>Size of batches during batched dictionary
learning.
(advanced)</p>
</dd>
<dt><strong>alpha: int</strong></dt><dd><p>Sparsity prior strength.
(advanced)</p>
</dd>
<dt><strong>do_cleanup_dictionary: bool</strong></dt><dd><p>Removes dictionary entries that are likely pure
noise or have impulses or very high-frequencies
or checkerboard patterns that are unlikely
needed to reconstruct the true signal.
(advanced)</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>display_dictionary: bool</strong></dt><dd><p>If True displays dictionary with napari –
for debug purposes.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered
during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.dictionary_learned.denoise_dictionary_learned">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.dictionary_learned.</span></span><span class="sig-name descname"><span class="pre">denoise_dictionary_learned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/dictionary_learned.html#denoise_dictionary_learned"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.dictionary_learned.denoise_dictionary_learned" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image using sparse-coding over a fixed
dictionary of nD image patches. The dictionary learning and
patch sparse coding uses scikit-learn’s Batch-OMP implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args</strong></dt><dd></dd>
<dt><strong>kwargs</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="gaussian">
<h3>Gaussian<a class="headerlink" href="#gaussian" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.gaussian.calibrate_denoise_gaussian">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.gaussian.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">128000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">512</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'median'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/gaussian.html#calibrate_denoise_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.gaussian.calibrate_denoise_gaussian" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Gaussian denoiser for the given image and returns the optimal
parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate denoiser for.</p>
</dd>
<dt><strong>axes: Optional[Tuple[int,…]]</strong></dt><dd><p>Axes over which to apply low-pass filtering.
(advanced)</p>
</dd>
<dt><strong>min_sigma: float</strong></dt><dd><p>Minimum sigma for Gaussian filter.
(advanced)</p>
</dd>
<dt><strong>max_sigma: float</strong></dt><dd><p>Maximum sigma for Gaussian filter.</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding
the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered
during optimisation are shown
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.gaussian.denoise_gaussian">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.gaussian.</span></span><span class="sig-name descname"><span class="pre">denoise_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/gaussian.html#denoise_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.gaussian.denoise_gaussian" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image using a simple Gaussian filter.
Difficult to beat in terms of speed and often provides
sufficient although not superb denoising performance. You
should always try simple and fast denoisers first, and see
if that works for you. If it works and is sufficient for
your needs, why go for slower and more complex and slower
approach? The only weakness of gaussian filtering is that it
affects all frequencies. In contrast, the auto-tuned Butterworth
denoiser will not blur within the estimated band-pass of
the signal. Thus we recommend you use the Butterworth denoiser
instead unless you have a good reason to use this one.</p>
<p>Note: We recommend applying a variance stabilisation transform
to improve results for images with non-Gaussian noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>nD image to denoise</p>
</dd>
<dt><strong>axes: Optional[Tuple[int,…]]</strong></dt><dd><p>Axes over which to apply low-pass filtering.
(advanced)</p>
</dd>
<dt><strong>sigma: float</strong></dt><dd><p>Standard deviation for Gaussian kernel.</p>
</dd>
<dt><strong>truncate: float</strong></dt><dd><p>Truncate the filter at this many standard deviations.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="gaussian-median">
<h3>Gaussian-Median<a class="headerlink" href="#gaussian-median" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.gm.calibrate_denoise_gm">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.gm.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_gm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_filter_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">96000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'median'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/gm.html#calibrate_denoise_gm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.gm.calibrate_denoise_gm" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Gaussian-Median mix denoiser for the given image and returns
the optimal parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate denoiser for.</p>
</dd>
<dt><strong>max_filter_size</strong><span class="classifier">int</span></dt><dd><p>Max filter size to use during calibration.
Should be a positive odd number such as 3, 5, 7, …</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.gm.denoise_gm">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.gm.</span></span><span class="sig-name descname"><span class="pre">denoise_gm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/gm.html#denoise_gm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.gm.denoise_gm" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image with a linear mixing of median
filtering and Gaussian filtering. Simple and fast but quite
effective for low to moderate noise levels and images with
band-limited signal (~ there is a ‘PSF’).</p>
<p>Note: We recommend applying a variance stabilisation transform
to improve results for images with non-Gaussian noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to be denoised.</p>
</dd>
<dt><strong>sigma: float</strong></dt><dd><p>Gaussian blur sigma.</p>
</dd>
<dt><strong>size: int</strong></dt><dd><p>Size of the median filter</p>
</dd>
<dt><strong>factor: float</strong></dt><dd><p>Ratio between the scales of the two scales</p>
</dd>
<dt><strong>alpha: float</strong></dt><dd><p>First mixing coefficient.</p>
</dd>
<dt><strong>beta: float</strong></dt><dd><p>First mixing coefficient.</p>
</dd>
<dt><strong>gamma: float</strong></dt><dd><p>First mixing coefficient.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="harmonic">
<h3>Harmonic<a class="headerlink" href="#harmonic" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.harmonic.calibrate_denoise_harmonic">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.harmonic.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_harmonic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">256000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/harmonic.html#calibrate_denoise_harmonic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.harmonic.calibrate_denoise_harmonic" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Harmonic denoiser for the given image and returns the optimal
parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate denoiser for.</p>
</dd>
<dt><strong>rank: bool</strong></dt><dd><p>If true, uses a better estimate of min and max filters using a rank
filter, may be much slower.
(advanced)</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.harmonic.denoise_harmonic">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.harmonic.</span></span><span class="sig-name descname"><span class="pre">denoise_harmonic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'uniform'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_gradient</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/harmonic.html#denoise_harmonic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.harmonic.denoise_harmonic" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image by applying a non-linear &lt;a
href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Harmonic_function">https://en.wikipedia.org/wiki/Harmonic_function</a>”&gt;harmonic&lt;/a&gt;
prior.
The gradient of the prior term is a laplace-like operator
that is scaled with the range of values around the pixel. One
of its specificities is that it is very effective at smoothing
uniform regions of an image.</p>
<p>Note: Works well in practice, but a bit slow as currently
implemented for large images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to be denoised</p>
</dd>
<dt><strong>filter: str</strong></dt><dd><p>Type of filter used to compute the Laplace-like prior. Can be
either ‘uniform’, ‘gaussian’ or ‘median’.</p>
</dd>
<dt><strong>rank: bool</strong></dt><dd><p>Uses a more robust estimation of the range.</p>
</dd>
<dt><strong>max_iterations: int</strong></dt><dd><p>Max number of  iterations.</p>
</dd>
<dt><strong>epsilon: float</strong></dt><dd><p>Small value used to determine convergence.</p>
</dd>
<dt><strong>alpha: float</strong></dt><dd><p>Balancing between data and prior term. A value of 0 favours the prior
entirely, whether a value of 1 favours the data term entirely.</p>
</dd>
<dt><strong>step: float</strong></dt><dd><p>Starting step used for gradient descent</p>
</dd>
<dt><strong>max_gradient: float</strong></dt><dd><p>Maximum gradient tolerated – usefull to avoid ‘numerical explosions’ ;-)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="lipschitz">
<h3>Lipschitz<a class="headerlink" href="#lipschitz" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.lipschitz.calibrate_denoise_lipschitz">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.lipschitz.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_lipschitz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lipschitz</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/lipschitz.html#calibrate_denoise_lipschitz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.lipschitz.calibrate_denoise_lipschitz" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Lipschitz denoiser for the given image and returns the
optimal parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate Sobolev denoiser for.</p>
</dd>
<dt><strong>lipschitz</strong><span class="classifier">float</span></dt><dd><p>Increase to tolerate more variation, decrease to be
more aggressive in removing salt &amp; pepper noise.</p>
</dd>
<dt><strong>percentile</strong><span class="classifier">float</span></dt><dd><p>Percentile value used to determine the threshold
for choosing the worst offending voxels per iteration.
(advanced)</p>
</dd>
<dt><strong>alpha</strong><span class="classifier">float</span></dt><dd><p>This constant controls the amount of correction per iteration.
Should be a number within[0, 1]. (advanced)</p>
</dd>
<dt><strong>max_num_iterations: int</strong></dt><dd><p>Maximum number of Lipschitz correction iterations to run. (advanced)</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters. (advanced)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.lipschitz.denoise_lipschitz">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.lipschitz.</span></span><span class="sig-name descname"><span class="pre">denoise_lipschitz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lipschitz</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_core</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/lipschitz.html#denoise_lipschitz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.lipschitz.denoise_lipschitz" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image by correcting voxel values that violate
&lt;a href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Lipschitz_continuity">https://en.wikipedia.org/wiki/Lipschitz_continuity</a>”&gt;Lipschitz
continuity&lt;/a&gt; criterion. These voxels get replaced
iteratively replaced by the median. This is repeated for a number
of iterations (max_num_iterations), until no more changes to
the image occurs, and making sure that the proportion of
corrected voxels remains below a given level (max_corrections argument).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to be denoised</p>
</dd>
<dt><strong>lipschitz</strong><span class="classifier">float</span></dt><dd><p>Increase to tolerate more variation, decrease to be
more aggressive in removing impulse/salt&amp;pepper noise.</p>
</dd>
<dt><strong>percentile</strong><span class="classifier">float</span></dt><dd><p>Percentile value used to determine the threshold
for choosing the worst offending voxels per iteration.
(advanced)</p>
</dd>
<dt><strong>alpha</strong><span class="classifier">float</span></dt><dd><p>This constant controls the amount of correction per ietartion.
Should be a number within[0, 1]. (advanced)</p>
</dd>
<dt><strong>max_num_iterations: int</strong></dt><dd><p>Maximum number of Lipschitz correction iterations to run. (advanced)</p>
</dd>
<dt><strong>multi_core: bool</strong></dt><dd><p>By default we use as many cores as possible, in some cases, for small
(test) images, it might be faster to run on a single core instead of
starting the whole parallelization machinery. (advanced)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="non-local-means-nlm">
<h3>Non-Local Means(NLM)<a class="headerlink" href="#non-local-means-nlm" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.nlm.calibrate_denoise_nlm">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.nlm.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_nlm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">96000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/nlm.html#calibrate_denoise_nlm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.nlm.calibrate_denoise_nlm" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Non-Local Means (NLM) denoiser for the given image and
returns the optimal parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate denoiser for.</p>
</dd>
<dt><strong>patch_size</strong><span class="classifier">int, optional</span></dt><dd><p>Size of patches used for denoising.
(advanced)</p>
</dd>
<dt><strong>patch_distance</strong><span class="classifier">int, optional</span></dt><dd><p>Maximal distance in pixels where to search patches used for denoising.
(advanced)</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.nlm.denoise_nlm">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.nlm.</span></span><span class="sig-name descname"><span class="pre">denoise_nlm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/nlm.html#denoise_nlm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.nlm.denoise_nlm" title="Permalink to this definition"></a></dt>
<dd><p>Denoise given image using either scikit-image implementation
of &lt;a href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Non-local_means">https://en.wikipedia.org/wiki/Non-local_means</a>”&gt;Non-Local-Means (NLM)&lt;/a&gt;.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image</strong><span class="classifier">ArayLike</span></dt><dd><p>Image to be denoised</p>
</dd>
<dt><strong>patch_size</strong><span class="classifier">int, optional</span></dt><dd><p>Size of patches used for denoising.</p>
</dd>
<dt><strong>patch_distance</strong><span class="classifier">int, optional</span></dt><dd><p>Maximal distance in pixels where to search patches used for denoising.</p>
</dd>
<dt><strong>cutoff_distance</strong><span class="classifier">float, optional</span></dt><dd><p>Cut-off distance (in gray levels). The higher h, the more permissive
one is in accepting patches. A higher h results in a smoother image,
at the expense of blurring features. For a Gaussian noise of standard
deviation sigma, a rule of thumb is to choose the value of h to be
sigma of slightly less.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier">float, optional</span></dt><dd><p>The standard deviation of the (Gaussian) noise.  If provided, a more
robust computation of patch weights is computed that takes the expected
noise variance into account (see Notes below).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image as ndarray.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="pca">
<h3>PCA<a class="headerlink" href="#pca" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.pca.calibrate_denoise_pca">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.pca.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_pca</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">96000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_core</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/pca.html#calibrate_denoise_pca"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.pca.calibrate_denoise_pca" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Principal Component Analysis (PCA) denoiser for the given
image and returns the optimal parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate spectral denoiser for.</p>
</dd>
<dt><strong>patch_size: int</strong></dt><dd><p>Patch size for the ‘image-to-patch’ transform.
Can be an int s that corresponds to isotropic patches of shape: (s,)*image.ndim,
or a tuple of ints. By default (None) the patch size is chosen automatically
to give the best results.
(advanced)</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>multi_core: bool</strong></dt><dd><p>Use all CPU cores during calibration.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.pca.denoise_pca">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.pca.</span></span><span class="sig-name descname"><span class="pre">denoise_pca</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction_gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_core</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/pca.html#denoise_pca"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.pca.denoise_pca" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image by first applying the patch
transform, and then doing a PCA projection of these patches
along the first components. The cut-off is set by a
threshold parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to denoise</p>
</dd>
<dt><strong>patch_size: int</strong></dt><dd><p>Patch size for the ‘image-to-patch’ transform.
Can be: ‘full’ for a single patch covering the whole image, ‘half’, ‘quarter’,
or an int s that corresponds to isotropic patches of shape: (s,)*image.ndim,
or a tuple of ints. By default (None) the patch size is chosen automatically
to give the best results.</p>
</dd>
<dt><strong>threshold: float</strong></dt><dd><p>Threshold for proportion of components to retain. Between 0 and 1</p>
</dd>
<dt><strong>reconstruction_gamma: float</strong></dt><dd><p>Patch reconstruction parameter</p>
</dd>
<dt><strong>multi_core: bool</strong></dt><dd><p>By default we use as many cores as possible, in some cases, for small
(test) images, it might be faster to run on a single core instead of
starting the whole parallelization machinery.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="spectral">
<h3>Spectral<a class="headerlink" href="#spectral" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.spectral.calibrate_denoise_spectral">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.spectral.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_spectral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_dct</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_fft</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_dst</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">6.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">96000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_core</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/spectral.html#calibrate_denoise_spectral"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.spectral.calibrate_denoise_spectral" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Spectral denoiser for the given image and returns the optimal
parameters obtained using the N2S loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate spectral denoiser for.</p>
</dd>
<dt><strong>axes: Optional[Tuple[int,…]]</strong></dt><dd><p>Axes over which to apply the spectral transform (dct, dst, fft) for denoising each patch.</p>
</dd>
<dt><strong>patch_size: int</strong></dt><dd><p>Patch size for the ‘image-to-patch’ transform.
Can be: ‘full’ for a single patch covering the whole image, ‘half’, ‘quarter’,
or an int s that corresponds to isotropic patches of shape: (s,)*image.ndim,
or a tuple of ints. By default (None) the patch size is chosen automatically
to give the best results.
(advanced)</p>
</dd>
<dt><strong>try_dct: bool</strong></dt><dd><p>Tries DCT transform during optimisation.</p>
</dd>
<dt><strong>try_fft: bool</strong></dt><dd><p>Tries FFT transform during optimisation.</p>
</dd>
<dt><strong>try_dst: bool</strong></dt><dd><p>Tries DST ransform during optimisation.</p>
</dd>
<dt><strong>max_order: float</strong></dt><dd><p>Maximal order for the Butterworth filter.
(advanced)</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>multi_core: bool</strong></dt><dd><p>Use all CPU cores during calibration.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.spectral.denoise_spectral">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.spectral.</span></span><span class="sig-name descname"><span class="pre">denoise_spectral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'dct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_bias_stength</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruction_gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_core</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/spectral.html#denoise_spectral"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.spectral.denoise_spectral" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image by first applying the patch
transform, and then zeroing Fourier/DCT/DST coefficients
below a given threshold. In addition, we apply Butterworth
filter to suppress frequencies above the band-pass and a
configurable frequency bias before applying the thresholding
to favour suppressing high versus low frequencies.</p>
<p>Note: This seems like a lot of parameters, but thanks to our
auto-tuning approach these parameters are all automatically
determined 😊.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to denoise</p>
</dd>
<dt><strong>axes: Optional[Tuple[int,…]]</strong></dt><dd><p>Axes over which to apply the spetcral transform (dct, dst, fft) for denoising each patch.</p>
</dd>
<dt><strong>patch_size: int</strong></dt><dd><p>Patch size for the ‘image-to-patch’ transform.
Can be: ‘full’ for a single patch covering the whole image, ‘half’, ‘quarter’,
or an int s that corresponds to isotropic patches of shape: (s,)*image.ndim,
or a tuple of ints. By default (None) the patch size is chosen automatically
to give the best results.</p>
</dd>
<dt><strong>mode: str</strong></dt><dd><p>Possible modes are: ‘dct’(works best!), ‘dst’, and ‘fft’.</p>
</dd>
<dt><strong>threshold: float</strong></dt><dd><p>Threshold between 0 and 1</p>
</dd>
<dt><strong>freq_bias_stength: float</strong></dt><dd><p>Frequency bias: closer to zero: no bias against high frequencies,
closer to one and above: stronger bias towards high-frequencies.</p>
</dd>
<dt><strong>freq_cutoff: float</strong></dt><dd><p>Cutoff frequency, must be within [0, 1]. In addition</p>
</dd>
<dt><strong>order: float</strong></dt><dd><p>Filter order, typically an integer above 1.</p>
</dd>
<dt><strong>reconstruction_gamma: float</strong></dt><dd><p>Patch reconstruction parameter</p>
</dd>
<dt><strong>multi_core: bool</strong></dt><dd><p>By default we use as many cores as possible, in some cases, for small
(test) images, it might be faster to run on a single core instead of
starting the whole parallelization machinery.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="total-variation-tv">
<h3>Total Variation(TV)<a class="headerlink" href="#total-variation-tv" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.tv.calibrate_denoise_tv">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.tv.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_tv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_mixing</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">96000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'fast'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">512</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/tv.html#calibrate_denoise_tv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.tv.calibrate_denoise_tv" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates the Total Variation (TV) denoiser for the given image and
returns the optimal parameters obtained using the N2S loss.</p>
<p>Note: we use the scikt-image implementation of TV denoising.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate TV denoiser for.</p>
</dd>
<dt><strong>enable_mixing: bool</strong></dt><dd><p>TV denoising tends to return very non-natural looking piece-wise constant
images. To mitigate this  we give the option to mix a bit of the original
image denoised with a Gaussian filter. The sigma for the Gaussian filter
is also calibrated. Note: In some cases it might be simply better to not
use the TV denoised image and instead just use the
Gaussian-filter-denoised image, check the “beta” parameter during
optimisation, if that number is very close to 1.0 then you know you
should probably use a Butterworth or Gaussian denoiser.</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function, dictionary containing optimal parameters,</dt><dd></dd>
<dt>and free memory needed in bytes for computation.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.tv.denoise_tv">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.tv.</span></span><span class="sig-name descname"><span class="pre">denoise_tv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'bregman'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/tv.html#denoise_tv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.tv.denoise_tv" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image using either scikit-image
implementation of Bregman or Chambolle &lt;a
href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Total_variation_denoising">https://en.wikipedia.org/wiki/Total_variation_denoising</a>”&gt;Total
Variation (TV) denoising&lt;/a&gt;. We attempt to rescale the weight parameter to
obtain similar results between Bregman and Chambolle for the
same weight.</p>
<p>Note: Because of limitations of the current scikit-image
implementation, if an image with more than 2 dimensions
is passed, we use the Chambolle implementation as it
supports nD images…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to denoise</p>
</dd>
<dt><strong>algorithm: str</strong></dt><dd><p>Algorithm to apply: either ‘bregman’ or ‘chambolle’</p>
</dd>
<dt><strong>weight: float</strong></dt><dd><p>Weight to balance data term versus prior term. Larger values correspond
to a stronger prior during optimisation, and thus more aggressive
denoising</p>
</dd>
<dt><strong>alpha: float</strong></dt><dd><p>TV denoising tends to return images that are dimmer, we have the option
of pushing the brightness here..</p>
</dd>
<dt><strong>beta: float</strong></dt><dd><p>TV denoising tends to return very non-natural looking images, here we give
the option to ‘mix-in’ back a bit of the original image denoised with a
gaussian filter.</p>
</dd>
<dt><strong>sigma: float</strong></dt><dd><p>Sigma for gaussian filtered image that is mixed with the TV denoised image.</p>
</dd>
<dt><strong>kwargs</strong></dt><dd><p>Any other parameters to be passed to scikit-image implementations</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
<section id="wavelet">
<h3>Wavelet<a class="headerlink" href="#wavelet" title="Permalink to this headline"></a></h3>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.wavelet.calibrate_denoise_wavelet">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.wavelet.</span></span><span class="sig-name descname"><span class="pre">calibrate_denoise_wavelet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_wavelets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelet_name_filter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_in_voxels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">96000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'smart'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_evaluations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blind_spots</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jinv_interpolation_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_images</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_crop</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_fixed_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/wavelet.html#calibrate_denoise_wavelet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.wavelet.calibrate_denoise_wavelet" title="Permalink to this definition"></a></dt>
<dd><p>Calibrates a &lt;a href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Wavelet_transform">https://en.wikipedia.org/wiki/Wavelet_transform</a>
“&gt;wavelet&lt;/a&gt; denoiser for the given image and returns the optimal
parameters obtained using the N2S loss.</p>
<p>Note: we use the scikt-image implementation of wavelet denoising.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to calibrate wavelet denoiser for.</p>
</dd>
<dt><strong>all_wavelets: bool</strong></dt><dd><p>If true then all wavelet transforms are tried during calibration,
otherwise only a selection that we consider to be the best.
Note: trying all transforms can take a long time but might find the
magical transform that will make it work for your data.
(advanced)</p>
</dd>
<dt><strong>wavelet_name_filter: str</strong></dt><dd><p>Comma separated list of wavelet name substrings. We only keep for
calibration wavelets which name contains these substrings. Best used
when using all transforms as starting list to select a family of wavelets,
or to select a specific one by providing its name in full.
(advanced)</p>
</dd>
<dt><strong>crop_size_in_voxels: int or None for default</strong></dt><dd><p>Number of voxels for crop used to calibrate denoiser.
Increase this number by factors of two if denoising quality is
unsatisfactory – this can be important for very noisy images.
Values to try are: 65000, 128000, 256000, 320000.
We do not recommend values higher than 512000.</p>
</dd>
<dt><strong>optimiser: str</strong></dt><dd><p>Optimiser to use for finding the best denoising
parameters. Can be: ‘smart’ (default), or ‘fast’ for a mix of SHGO
followed by L-BFGS-B.
(advanced)</p>
</dd>
<dt><strong>max_num_evaluations: int</strong></dt><dd><p>Maximum number of evaluations for finding the optimal parameters.
Increase this number by factors of two if denoising quality is
unsatisfactory.</p>
</dd>
<dt><strong>blind_spots: bool</strong></dt><dd><p>List of voxel coordinates (relative to receptive field center) to
be included in the blind-spot. For example, you can give a list of
3 tuples: [(0,0,0), (0,1,0), (0,-1,0)] to extend the blind spot
to cover voxels of relative coordinates: (0,0,0),(0,1,0), and (0,-1,0)
(advanced) (hidden)</p>
</dd>
<dt><strong>jinv_interpolation_mode: str</strong></dt><dd><p>J-invariance interpolation mode for masking. Can be: ‘median’ or
‘gaussian’.
(advanced)</p>
</dd>
<dt><strong>display_images: bool</strong></dt><dd><p>When True the denoised images encountered during optimisation are shown.
(advanced) (hidden)</p>
</dd>
<dt><strong>display_crop: bool</strong></dt><dd><p>Displays crop, for debugging purposes…
(advanced) (hidden)</p>
</dd>
<dt><strong>other_fixed_parameters: dict</strong></dt><dd><p>Any other fixed parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoising function and dictionary containing optimal parameters.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aydin.it.classic_denoisers.wavelet.denoise_wavelet">
<span class="sig-prename descclassname"><span class="pre">aydin.it.classic_denoisers.wavelet.</span></span><span class="sig-name descname"><span class="pre">denoise_wavelet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy._typing._array_like._SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.dtype</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy._typing._nested_sequence._NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">complex</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelet</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'db1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'soft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'BayesShrink'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aydin/it/classic_denoisers/wavelet.html#denoise_wavelet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aydin.it.classic_denoisers.wavelet.denoise_wavelet" title="Permalink to this definition"></a></dt>
<dd><p>Denoises the given image using the scikit-image
implementation of &lt;a href=”<a class="reference external" href="https://en.wikipedia.org/wiki/Wavelet_transform">https://en.wikipedia.org/wiki/Wavelet_transform</a> “&gt;
wavelet&lt;/a&gt; denoising.</p>
<p>Note: we use the scikt-image implementation of wavelet denoising.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: ArrayLike</strong></dt><dd><p>Image to denoise</p>
</dd>
<dt><strong>wavelet</strong><span class="classifier">string, optional</span></dt><dd><p>The type of wavelet to perform and can be any of the options
<code class="docutils literal notranslate"><span class="pre">pywt.wavelist</span></code> outputs. The default is <cite>‘db1’</cite>. For example,
<code class="docutils literal notranslate"><span class="pre">wavelet</span></code> can be any of <code class="docutils literal notranslate"><span class="pre">{'db2',</span> <span class="pre">'haar',</span> <span class="pre">'sym9'}</span></code> and many more
(see PyWavelets documentation).</p>
</dd>
<dt><strong>sigma</strong><span class="classifier">float or list, optional</span></dt><dd><p>The noise standard deviation used when computing the wavelet detail
coefficient threshold(s). When None (default), the noise standard
deviation is estimated via the method in (2)_.</p>
</dd>
<dt><strong>mode</strong><span class="classifier">{‘soft’, ‘hard’}, optional</span></dt><dd><p>An optional argument to choose the type of denoising performed. It
noted that choosing soft thresholding given additive noise finds the
best approximation of the original image.</p>
</dd>
<dt><strong>method</strong><span class="classifier">{‘BayesShrink’, ‘VisuShrink’}, optional</span></dt><dd><p>Thresholding method to be used. The currently supported methods are
“BayesShrink” (1)_ and “VisuShrink” (2)_. Defaults to “BayesShrink”.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier">dict</span></dt><dd><p>Any other parameters to be passed to scikit-image implementations</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Denoised image as ndarray</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="base.html" class="btn btn-neutral float-left" title="ImageTranslatorBase" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fgr.html" class="btn btn-neutral float-right" title="ImageTranslatorFGR - Feature Generation&amp;Regression" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022. Chan Zuckerberg Biohub. All rights reserved.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    : v0.1.14
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../../v0.1.11/api/image_translators/classic.html">v0.1.11</a></dd>
      <dd><a href="../../../v0.1.12/api/image_translators/classic.html">v0.1.12</a></dd>
      <dd><a href="../../../v0.1.13/api/image_translators/classic.html">v0.1.13</a></dd>
      <dd><a href="classic.html">v0.1.14</a></dd>
      <dd><a href="../../../v0.1.15/api/image_translators/classic.html">v0.1.15</a></dd>
      <dd><a href="../../../v0.1.8/api/image_translators/classic.html">v0.1.8</a></dd>
      <dd><a href="../../../v0.1.9/api/image_translators/classic.html">v0.1.9</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #FFB366;
    }
    /* Sidebar */
<!--    .wy-nav-side {-->
<!--      background: #ff0000;-->
<!--    }-->
  </style>


</body>
</html>